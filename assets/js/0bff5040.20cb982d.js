"use strict";(self.webpackChunkscience_island_docs=self.webpackChunkscience_island_docs||[]).push([[5354],{8453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>c});var r=n(6540);const i={},t=r.createContext(i);function d(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(t.Provider,{value:s},e.children)}},8862:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"tools-and-technologies/caddy/overview","title":"Overview","description":"Introduction to Caddy and its role in Science Island.","source":"@site/docs/02-tools-and-technologies/04-caddy/01-overview.md","sourceDirName":"02-tools-and-technologies/04-caddy","slug":"/tools-and-technologies/caddy/overview","permalink":"/si-docs/tools-and-technologies/caddy/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/EducationNetworkGroup/si-docs/tree/main/docs/02-tools-and-technologies/04-caddy/01-overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"description":"Introduction to Caddy and its role in Science Island."},"sidebar":"tutorialSidebar","previous":{"title":"Caddy","permalink":"/si-docs/category/caddy"},"next":{"title":"Configuration","permalink":"/si-docs/tools-and-technologies/caddy/science-island-configuration"}}');var i=n(4848),t=n(8453);const d={sidebar_position:1,description:"Introduction to Caddy and its role in Science Island."},c="Overview",o={},a=[{value:"What is Caddy?",id:"what-is-caddy",level:2},{value:"Why Use Caddy?",id:"why-use-caddy",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Where It&#39;s Used",id:"where-its-used",level:2},{value:"Key Features",id:"key-features",level:2},{value:"Resources",id:"resources",level:2}];function l(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"overview",children:"Overview"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"https://caddyserver.com/",children:"Caddy"})," is a web server with automatic HTTPS that serves as the reverse proxy for Science Island. It routes all incoming HTTP/HTTPS traffic to the appropriate backend services."]}),"\n",(0,i.jsx)(s.h2,{id:"what-is-caddy",children:"What is Caddy?"}),"\n",(0,i.jsx)(s.p,{children:"Caddy is a reverse proxy with:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Automatic HTTPS"}),": Auto-obtains and renews SSL certificates from Let's Encrypt"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Simple Configuration"}),": Human-readable Caddyfile format"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Built-in Security"}),": HTTPS by default with security headers"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"why-use-caddy",children:"Why Use Caddy?"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Automatic SSL Management"}),": No manual certificate renewal across multiple domains"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Single Entry Point"}),": Routes to Platform, Mapper, Keycloak, Website, and API services"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Simple Syntax"}),": Easier to maintain than nginx/Apache"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"WebSocket Support"}),": Required for Keycloak admin console"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"architecture",children:"Architecture"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Internet \u2192 Caddy (HTTPS) \u2192 Internal Services (HTTP)\n                    \u251c\u2500\u2192 platform-client:3000\n                    \u251c\u2500\u2192 mapper-frontend:3000\n                    \u251c\u2500\u2192 keycloak:8080\n                    \u251c\u2500\u2192 website:80\n                    \u2514\u2500\u2192 platform-backend services:8001\n"})}),"\n",(0,i.jsx)(s.h2,{id:"where-its-used",children:"Where It's Used"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Production"})," (",(0,i.jsx)(s.code,{children:"si-infrastructure/src/gcp/compute/prod.Caddyfile"}),"):"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Main reverse proxy on GCP"}),"\n",(0,i.jsx)(s.li,{children:"Routes based on domain names and paths"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Auth Service"})," (",(0,i.jsx)(s.code,{children:"si-auth-service/caddy/Caddyfile"}),"):"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Proxies requests to Keycloak"}),"\n",(0,i.jsx)(s.li,{children:"Handles SSL termination"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"key-features",children:"Key Features"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Feature"}),(0,i.jsx)(s.th,{children:"Purpose"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Automatic HTTPS"}),(0,i.jsx)(s.td,{children:"SSL certificates for all domains"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Host-based Routing"}),(0,i.jsx)(s.td,{children:"Different subdomains \u2192 different services"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Path-based Routing"}),(0,i.jsx)(s.td,{children:"API routes \u2192 appropriate backends"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Compression"}),(0,i.jsx)(s.td,{children:"gzip/zstd for responses"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Security Headers"}),(0,i.jsx)(s.td,{children:"HSTS, X-Frame-Options, etc."})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"resources",children:"Resources"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://caddyserver.com/docs/",children:"Official Docs"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://caddyserver.com/docs/caddyfile/directives/reverse_proxy",children:"Reverse Proxy Guide"})}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);